# 業務に耐えられるVue.js

## 環境

- Node.js 16.13.0
- NPM 8.1.0

Nodeバージョン管理ツール

- nvm

開発環境

- visual studio code
  - 拡張
    - volar
    - veturを無効
    - eslint
    - prettier

言語

- Vue.js 3.2.41
- TypeScript 4.6.4

バンドルツール

- vite 3.2.4

テストツール

- vitest

## スムーズに開発者が参加できるフロントエンドプロジェクト

Vueに限らず、vscode + nodeでフロントエンド開発を行い、プロジェクトに新しい開発者、新人を追加するとき、スムーズに参加できるよう、プロジェクト側でケアしておくことが重要になります。

### package.jsonにenginesを記載

package.jsonには利用するNodeのバージョンを記載することができます。

```json
{
  "engines": {
    "node": ">=16.x.x"
  }
}
```

と記載すれば、Nodeの要求バージョンが16.x.x以上であることがわかります。

### .nvmrcにNode.jsのバージョンを指定

Nodeのバージョン管理ツールにnvmを利用している場合、.nvmrcファイルにNodeのバージョンをしておくことで、`nvm use`コマンドで指定のバージョンに切り替えることができるようになります。

package.jsonの指定と併せてぜひ使いたいです。

### vscodeの拡張を共有しておく

.vscode/extensions.jsonにはプロジェクトで推奨される拡張を記載するべきです。

Vue3での開発ではvolarという拡張が、Vue2ではveturという拡張がほぼ必須になります。その他、開発中に必要になったvscodeの拡張はここに記載することでプロジェクトメンバー間に共有することができ、便利です。

このプロジェクトではこれ以外に、ESLint, Prettierなどを推奨拡張に入れています。

そうすれば、vscodeでプロジェクトを開いた際、推奨拡張のインストールを勧めてくるようになります。

研修に参加される方はこのリポジトリでは推奨拡張を有効にしておくようにお願いします。

### vscodeの設定を共有しておく

vscodeの設定を`.vscode/settings.json`に記載することができます。これはvscodeの個人設定をオーバーライドするようにvscode側で設定されています。なので、リポジトリごとに必要になった設定はリポジトリ内のsettings.jsonに記載することがグローバル設定を汚染せずに開発を進めることができます。

多くのプロダクトでは、settings.jsonは.gitignoreなどで除外されていることが多いです。恐らく設定は個人で施すもので、プロダクトで共有されるべきではない、という考え方があるのでしょう。

しかし、私個人の意見としては自動保存の設定など、プロダクトで共有しておくべき設定は、settings.jsonに記載し、gitで共有すべきです。

個人がどうしても設定を上書きしたい際は、settings.jsonに記載するのではなく、ワークスペースの設定ファイルに設定を記載すべきです。ワークスペースの設定は`.vscode/settings.json`を更にオーバーライドしてくれます。

グローバル設定 < リポジトリ内のsettings.json < ワークスペースの設定　この順でvscodeは設定をオーバーライドすることを忘れないようにしましょう。

### npm scriptの説明をREADMEに記載しておく

node.jsで開発をする場合、デプロイしたり開発モードで立ち上げたりする各種コマンドをpackage.jsonのscripts欄に記載することが多くなります。

各種コマンドが何をしているのか、プロダクトに参加して間もない人にはわからないことが多々あります。

各種コマンドが何をしているのか、REAMDEなどに記載しておくと開発者にとって助けになります。

全コマンドの説明を乗せる必要もありません。よく使うコマンドから説明を載せていくといいです。

また、複数のコマンドを並列に実行するときは、それぞれのコマンドを、npm scriptで登録しておき、それらのnpm scriptを並列実行するnpm scriptコマンドを登録しておくと利便性が上がります。サーバー立ち上げのコマンドをモックサーバーに変更する時や、あるいは実サーバーに移行するときなどに便利です。

### まとめ

- ドキュメント
- 自動化できる部分を自動化すること

以上２点を徹底しておくと、新たな開発者が入るハードルが低くなります。
